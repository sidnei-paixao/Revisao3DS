<html>

<head>
	<meta charset="utf-8" />
</head>

<style>
BODY
{
	margin: 0;
  /*background: url(brasil.png) no-repeat;
	background-size: contain;
	background-position: center center;*/
}
#Detalhe
{
	background: #FFFFFF;
	position: absolute;
	display: flex;
	width: 100vw;
	height: 100vh;
	margin: 0;
	align-items: center;
	justify-content: center;
}
#Detalhe IMG
{
  max-width: 100%;
  max-height: 100%;
}
</style>

<script src="regexImagemExterna.js"></script>

<body usemap="objCliqueMapa">

	<img src="brasil.png" usemap="#objCliqueMapa" />
	
	<div id="Detalhe" style="display: none">
		<img id="imgEstado" src="saopaulo.png" onDrop="fnSoltar(event)" onDragOver="event.preventDefault()" />
	<div>
	
	<map name="objCliqueMapa">
    <area target="" alt="São Paulo" title="São Paulo" href="SP" coords="486,558,468,581,459,597,445,608,481,611,487,617,503,616,518,646,514,654,529,654,538,667,580,636,589,641,606,630,598,622,613,616,603,610,586,613,576,619,567,607,571,588,560,587,557,564,521,564,519,557" shape="poly">
    <area target="" alt="Rio de Janeiro" title="Rio de Janeiro" href="RJ" coords="605,610,624,601,635,605,649,600,658,580,677,591,676,605,659,611,654,623,626,625,618,621,605,628,602,620,612,615" shape="poly">
    <area target="" alt="Pernambuco" title="Pernambuco" href="PE" coords="686,330,703,322,700,305,721,306,731,316,753,317,769,309,777,313,769,324,777,330,786,321,805,318,816,315,809,346,798,342,783,351,770,348,759,340,749,346,725,332,701,349" shape="poly">
    <area target="" alt="Alagoas" title="Alagoas" href="AL" coords="746,347,782,375,808,345,799,340,781,349,759,339" shape="poly">
    <area target="" alt="Sergipe" title="Sergipe" href="SE" coords="752,357,756,366,751,377,745,377,752,393,760,396,767,382,781,374,765,357" shape="poly">
    <area target="" alt="Paraíba" title="Paraíba" href="PA" coords="743,287,739,299,743,307,737,312,754,315,766,307,774,310,770,321,777,327,786,317,805,316,817,314,814,294,787,288,784,299,767,293,771,282,759,287,752,289" shape="poly">
	<area target="" alt="Rio Grande do Norte" title="Rio Grande do Norte" href="RN" coords="770,257,762,261,751,278,744,280,755,288,770,281,768,292,785,298,787,289,813,293,808,268,784,263" shape="poly">
	<area target="" alt="Minas Gerais" title="Minas Gerais" href="MG" coords="569,462,579,451,588,459,628,441,635,458,646,450,661,463,674,464,682,480,696,479,705,486,698,503,689,512,698,523,681,525,680,544,674,571,659,573,648,602,590,613,573,618,564,587,555,560,524,568,517,560,489,558,489,551,503,532,522,531,557,528,559,491,566,480,569,475,565,473" shape="poly">
    <area target="" alt="Amazonas" title="Amazonas" href="AM" coords="377,197,363,186,319,146,301,146,296,160,288,166,279,160,270,177,253,168,250,152,247,119,233,105,214,121,192,139,173,138,156,128,150,111,136,117,101,122,113,134,100,144,103,164,110,180,97,246,80,249,57,256,38,265,38,293,27,308,97,327,169,356,176,348,189,348,201,344,224,331,241,315,266,334,337,328,336,287" shape="poly">
    <area target="" alt="Mato Grosso" title="Mato Grosso" href="MT" coords="276,373,277,331,335,328,343,303,355,327,372,341,496,350,495,418,483,455,449,494,445,513,428,515,433,502,415,504,405,512,379,499,357,513,337,498,337,482,304,481,298,459,296,428,310,400,304,376" shape="poly">
    <area target="" alt="Pará" title="Pará" href="PA" coords="469,174,488,149,502,138,508,155,543,156,527,190,553,170,567,164,589,178,590,198,574,225,561,245,537,261,548,266,540,287,528,293,523,305,527,312,517,332,508,339,506,349,375,342,356,326,342,300,339,292,379,199,351,181,330,159,326,126,338,119,357,109,386,113,386,99,414,103,412,113,421,114,439,121" shape="poly">
    <area target="" alt="Acre" title="Acre" href="AC" coords="91,351,96,382,134,383,153,373,167,357,97,326,24,310,27,323,43,351,60,362,78,366" shape="poly">
</map>

</body>

<script>
function fnSoltar(oEvt)
{
	oEvt.preventDefault();
	let oArquivo = new FileReader();
	
	if(oEvt.dataTransfer.files)
		if(oEvt.dataTransfer.files.length > 0)
		{
			oArquivo.readAsDataURL(oEvt.dataTransfer.files[0]);
			console.log(oEvt.dataTransfer.files[0]);
		}
		else
			if(oEvt.dataTransfer.getData('text/html').length > 0)
			{
				/*
				//alert(arrumador(oEvt.dataTransfer.getData('text/html')));
				alert(fnExtraiImagem(oEvt.dataTransfer.getData('text/html')));
				let cImagem = oEvt.dataTransfer.getData('text/html').substr(oEvt.dataTransfer.getData('text/html').indexOf('src=') + 5);
				cImagem = cImagem.substr(0, cImagem.indexOf('"'));
				document.all.imgEstado.style.background = 'url(' + cImagem + ')';
				*/
				document.all.imgEstado.style.background = 'url(' + fnExtraiImagem(oEvt.dataTransfer.getData('text/html')) + ')';
			}
	
	
	
	oArquivo.onload = function()
	{
		document.all.imgEstado.style.background = 'url(' + oArquivo.result + ')';
	}
}
</script>

</html>